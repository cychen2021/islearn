- name: Def-Use 1
  group: Def-Use
  constraint: |
      forall <?NONTERMINAL> use_ctx in start:
        forall <?NONTERMINAL> use in use_ctx:
          exists <?NONTERMINAL> def_ctx in start:
            exists <?NONTERMINAL> def in def_ctx:
              (before(def_ctx, use_ctx) and
              (= def use))

- name: Def-Use 2
  group: Def-Use
  constraint: |
      forall <?NONTERMINAL> use_ctx in start:
        forall <?NONTERMINAL> use in use_ctx:
          exists <?NONTERMINAL> def_ctx="{<?MATCHEXPR(def)>}" in start:
            (before(def_ctx, use_ctx) and
            (= use def))

- name: Balance
  constraint: |
      forall <?NONTERMINAL> container="{<?MATCHEXPR(opid, clid)>}" in start:
        (= opid clid)


- name: Equal Count
  constraint: |
      exists int num:
        forall <?NONTERMINAL> elem in start:
          ((>= (str.to.int num) 1) and
          count(elem, <?NONTERMINAL>, num))

- name: String Existence
  constraint: |
      forall <?NONTERMINAL> container in start:
        exists <?NONTERMINAL> elem in container:
          (= elem <?STRING>)